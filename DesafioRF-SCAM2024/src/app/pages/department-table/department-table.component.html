<a href="/" class="suspense"
  ><img src="/assets/backarrow.svg" alt="backarrow"
/></a>

<div>
  <h2>Departamentos</h2>

  <form
    [formGroup]="departmentForm"
    (ngSubmit)="editingDepartmentId ? updateDepartment() : createDepartment()"
  >
    <label for="username">Nome <span style="color: red">*</span></label>
    <input
      formControlName="name"
      type="text"
      placeholder="Nome do Departamento"
      required
    />
    <button type="submit" [disabled]="departmentForm.invalid">
      {{ editingDepartmentId ? "Atualizar" : "Criar" }}
    </button>
  </form>

  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let department of departments">
        <td>{{ department.id }}</td>
        <td>{{ department.name }}</td>
        <td class="actions">
          <button (click)="editDepartment(department)" class="edit">
            Editar
          </button>
          <button (click)="deleteDepartment(department.id)" class="remove">
            Excluir
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
